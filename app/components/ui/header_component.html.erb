<!-- Header -->
<header class="sticky top-0 inset-x-0 flex flex-wrap md:justify-start md:flex-nowrap z-[48] w-full bg-white border-b text-sm py-2.5 lg:ps-[260px] dark:bg-neutral-800 dark:border-neutral-700">
  <nav class="px-4 sm:px-6 flex basis-full items-center w-full mx-auto">
    <!-- Navigation Toggle -->
    <div class="me-5 lg:me-0 lg:hidden">
      <button 
        type="button" 
        class="hs-overlay-toggle relative size-7 flex justify-center items-center gap-x-2 rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-neutral-700 dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10"
        data-hs-overlay="#hs-application-sidebar"
        aria-controls="hs-application-sidebar"
        aria-label="Toggle navigation"
        x-data
        @click="document.documentElement.classList.toggle('sidebar-open')"
      >
        <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" x2="21" y1="6" y2="6"/>
          <line x1="3" x2="21" y1="12" y2="12"/>
          <line x1="3" x2="21" y1="18" y2="18"/>
        </svg>
      </button>
    </div>
    <!-- End Navigation Toggle -->

    <!-- Breadcrumb -->
    <ol class="ms-3 flex items-center whitespace-nowrap">
      <li class="flex items-center text-sm text-gray-800 dark:text-neutral-400">
        Integrar+
        <svg class="shrink-0 mx-3 overflow-visible size-2.5 text-gray-400 dark:text-neutral-500" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="m5 1 3 3-3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </li>
      <li class="text-sm font-semibold text-gray-800 truncate dark:text-neutral-400" aria-current="page">
        Dashboard
      </li>
    </ol>
    <!-- End Breadcrumb -->

    <!-- Right Side Actions -->
    <div class="w-full flex items-center justify-end ms-auto md:justify-end gap-x-1 md:gap-x-3">
      
      <!-- Search -->
      <div class="hidden md:block">
        <div class="relative" x-data="{ searchOpen: false }">
          <div class="absolute inset-y-0 start-0 flex items-center pointer-events-none z-20 ps-3.5">
            <svg class="shrink-0 size-4 text-gray-400 dark:text-white/60" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"/>
              <path d="m21 21-4.35-4.35"/>
            </svg>
          </div>
          <input 
            type="text" 
            class="py-2 ps-10 pe-16 block w-full bg-white border-gray-200 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder:text-neutral-400 dark:focus:ring-neutral-600" 
            placeholder="Buscar..."
            @focus="searchOpen = true"
            @blur="setTimeout(() => searchOpen = false, 200)"
          >
          <div class="hidden absolute inset-y-0 end-0 flex items-center pointer-events-none z-20 pe-1">
            <button type="button" class="inline-flex shrink-0 justify-center items-center size-6 rounded-full text-gray-500 hover:text-blue-600 focus:outline-none focus:text-blue-600 dark:text-neutral-500 dark:hover:text-blue-500 dark:focus:text-blue-500" aria-label="Close">
              <span class="sr-only">Close</span>
              <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"/>
                <path d="m15 9-6 6"/>
                <path d="m9 9 6 6"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
      <!-- End Search -->

      <!-- Notifications Dropdown -->
      <div class="hs-dropdown [--placement:bottom-right] relative inline-flex" x-data="{ notificationsOpen: false }">
        <button 
          type="button" 
          class="relative size-[38px] inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
          @click="notificationsOpen = !notificationsOpen"
        >
          <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/>
            <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/>
          </svg>
          <% if notifications_count > 0 %>
            <span class="absolute top-0 end-0 inline-flex items-center py-0.5 px-1.5 rounded-full text-xs font-medium transform -translate-y-1/2 translate-x-1/2 bg-red-500 text-white"><%= notifications_count %></span>
          <% end %>
        </button>

        <div 
          class="hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-60 bg-white shadow-md rounded-lg mt-2 dark:bg-neutral-800 dark:border dark:border-neutral-700 dark:divide-neutral-700 after:h-4 after:absolute after:-bottom-4 after:start-0 after:w-full before:h-4 before:absolute before:-top-4 before:start-0 before:w-full"
          x-show="notificationsOpen"
          x-transition
          @click.away="notificationsOpen = false"
        >
          <div class="p-4 border-b border-gray-200 dark:border-neutral-700">
            <h4 class="text-sm font-semibold text-gray-800 dark:text-white">Notificações</h4>
          </div>
          
          <div class="divide-y divide-gray-200 dark:divide-neutral-700">
            <a class="flex gap-x-3 py-3 px-4 hover:bg-gray-50 dark:hover:bg-neutral-700" href="#">
              <div class="shrink-0">
                <span class="inline-flex items-center justify-center size-8 rounded-full bg-blue-500 text-white">
                  <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/>
                    <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/>
                  </svg>
                </span>
              </div>
              <div class="grow">
                <h3 class="text-sm font-semibold text-gray-800 dark:text-white">Nova integração disponível</h3>
                <p class="text-sm text-gray-600 dark:text-neutral-400">Sistema XYZ foi integrado com sucesso</p>
                <p class="text-xs text-gray-500 dark:text-neutral-500">há 2 minutos</p>
              </div>
            </a>

            <a class="flex gap-x-3 py-3 px-4 hover:bg-gray-50 dark:hover:bg-neutral-700" href="#">
              <div class="shrink-0">
                <span class="inline-flex items-center justify-center size-8 rounded-full bg-green-500 text-white">
                  <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="20,6 9,17 4,12"/>
                  </svg>
                </span>
              </div>
              <div class="grow">
                <h3 class="text-sm font-semibold text-gray-800 dark:text-white">Sincronização concluída</h3>
                <p class="text-sm text-gray-600 dark:text-neutral-400">Dados sincronizados com sucesso</p>
                <p class="text-xs text-gray-500 dark:text-neutral-500">há 1 hora</p>
              </div>
            </a>
          </div>

          <div class="p-2 border-t border-gray-200 dark:border-neutral-700">
            <a class="w-full flex justify-center items-center gap-x-2 py-2 px-3 rounded-lg text-sm text-gray-600 hover:bg-gray-50 focus:outline-none focus:bg-gray-50 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" href="#">
              Ver todas as notificações
            </a>
          </div>
        </div>
      </div>
      <!-- End Notifications -->

      <!-- Messages Dropdown -->
      <div class="hs-dropdown [--placement:bottom-right] relative inline-flex" x-data="{ messagesOpen: false }">
        <button 
          type="button" 
          class="relative size-[38px] inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
          @click="messagesOpen = !messagesOpen"
        >
          <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z"/>
            <path d="M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"/>
          </svg>
          <% if messages_count > 0 %>
            <span class="absolute top-0 end-0 inline-flex items-center py-0.5 px-1.5 rounded-full text-xs font-medium transform -translate-y-1/2 translate-x-1/2 bg-red-500 text-white"><%= messages_count %></span>
          <% end %>
        </button>

        <div 
          class="hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-60 bg-white shadow-md rounded-lg mt-2 dark:bg-neutral-800 dark:border dark:border-neutral-700"
          x-show="messagesOpen"
          x-transition
          @click.away="messagesOpen = false"
        >
          <div class="p-4 border-b border-gray-200 dark:border-neutral-700">
            <h4 class="text-sm font-semibold text-gray-800 dark:text-white">Mensagens</h4>
          </div>
          
          <div class="divide-y divide-gray-200 dark:divide-neutral-700">
            <a class="flex gap-x-3 py-3 px-4 hover:bg-gray-50 dark:hover:bg-neutral-700" href="#">
              <img class="shrink-0 size-8 rounded-full" src="https://images.unsplash.com/photo-1541101767792-f9b2b1c4f127?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=3&w=320&h=320&q=80" alt="Avatar">
              <div class="grow">
                <h3 class="text-sm font-semibold text-gray-800 dark:text-white">Maria Silva</h3>
                <p class="text-sm text-gray-600 dark:text-neutral-400">Olá! Como está o projeto?</p>
                <p class="text-xs text-gray-500 dark:text-neutral-500">há 5 minutos</p>
              </div>
            </a>

            <a class="flex gap-x-3 py-3 px-4 hover:bg-gray-50 dark:hover:bg-neutral-700" href="#">
              <img class="shrink-0 size-8 rounded-full" src="https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=3&w=320&h=320&q=80" alt="Avatar">
              <div class="grow">
                <h3 class="text-sm font-semibold text-gray-800 dark:text-white">João Santos</h3>
                <p class="text-sm text-gray-600 dark:text-neutral-400">Preciso de ajuda com a integração</p>
                <p class="text-xs text-gray-500 dark:text-neutral-500">há 1 hora</p>
              </div>
            </a>
          </div>

          <div class="p-2 border-t border-gray-200 dark:border-neutral-700">
            <a class="w-full flex justify-center items-center gap-x-2 py-2 px-3 rounded-lg text-sm text-gray-600 hover:bg-gray-50 focus:outline-none focus:bg-gray-50 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" href="#">
              Ver todas as mensagens
            </a>
          </div>
        </div>
      </div>
      <!-- End Messages -->

      <!-- User Profile Dropdown -->
      <div class="hs-dropdown [--placement:bottom-right] relative inline-flex" x-data="{ profileOpen: false }">
        <button 
          type="button" 
          class="size-[38px] inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-800 focus:outline-none disabled:opacity-50 disabled:pointer-events-none dark:text-white"
          @click="profileOpen = !profileOpen"
        >
          <% if user_avatar %>
            <%= image_tag user_avatar, class: "shrink-0 size-[38px] rounded-full", alt: "Avatar" %>
          <% else %>
            <img class="shrink-0 size-[38px] rounded-full" src="https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2&w=320&h=320&q=80" alt="Avatar">
          <% end %>
        </button>

        <div 
          class="hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-60 bg-white shadow-md rounded-lg mt-2 dark:bg-neutral-800 dark:border dark:border-neutral-700"
          x-show="profileOpen"
          x-transition
          @click.away="profileOpen = false"
        >
          <div class="py-3 px-5 bg-gray-100 rounded-t-lg dark:bg-neutral-700">
            <p class="text-sm text-gray-500 dark:text-neutral-400">Logado como</p>
            <p class="text-sm font-medium text-gray-800 dark:text-neutral-200"><%= user_name %></p>
          </div>
          
          <div class="p-1.5 space-y-0.5">
            <a class="flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300" href="#">
              <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
              Meu Perfil
            </a>
            
            <a class="flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300" href="#">
              <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
              Configurações
            </a>
            
            <a class="flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300" href="#">
              <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/>
                <path d="M12 12v9"/>
                <path d="m8 17 4 4 4-4"/>
              </svg>
              Downloads
            </a>
          </div>
          
          <div class="p-1.5 border-t border-gray-200 dark:border-neutral-700">
            <%= link_to destroy_user_session_path, method: :delete, 
                class: "flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700 dark:focus:text-neutral-300" do %>
              <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                <polyline points="16,17 21,12 16,7"/>
                <line x1="21" x2="9" y1="12" y2="12"/>
              </svg>
              Sair
            <% end %>
          </div>
        </div>
      </div>
      <!-- End User Profile -->

    </div>
    <!-- End Right Side Actions -->
  </nav>
</header>
<!-- End Header -->