<header class="sticky top-0 z-50 flex h-16 w-full items-center justify-between bg-white px-4 shadow-sm dark:bg-gray-800 dark:shadow-gray-700/25 lg:px-6">
  <div class="flex items-center gap-4">
    <button
      type="button"
      class="inline-flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 text-gray-500 hover:bg-gray-100 hover:text-gray-600 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300 lg:hidden"
      data-controller="sidebar"
      data-action="click->sidebar#toggle"
      aria-label="Abrir menu lateral"
      aria-expanded="false"
    >
      <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>

    <div class="flex items-center gap-2">
      <img class="h-8 w-auto dark:hidden" src="<%= asset_path('logo/logo.svg') %>" alt="Logo">
      <img class="hidden h-8 w-auto dark:block" src="<%= asset_path('logo/logo-dark.svg') %>" alt="Logo">
    </div>
  </div>

  <div class="flex items-center gap-4">
    <button
      type="button"
      class="inline-flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 text-gray-500 hover:bg-gray-100 hover:text-gray-600 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300 lg:hidden"
      data-controller="menu"
      data-action="click->menu#toggle"
      aria-label="Menu do aplicativo"
      aria-expanded="false"
    >
      <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
      </svg>
    </button>

    <button
      type="button"
      class="inline-flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 text-gray-500 hover:bg-gray-100 hover:text-gray-600 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300"
      data-controller="theme"
      data-action="click->theme#toggle"
      aria-label="Alternar tema escuro/claro"
    >
      <svg class="h-5 w-5 dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
      </svg>
      <svg class="hidden h-5 w-5 dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
      </svg>
    </button>

    <div class="relative" data-controller="dropdown">
      <button
        type="button"
        class="inline-flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 text-gray-500 hover:bg-gray-100 hover:text-gray-600 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300"
        data-action="click->dropdown#toggle"
        aria-label="Notificações"
        aria-expanded="false"
      >
        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM4.5 19.5h9a2.5 2.5 0 002.5-2.5V7a2.5 2.5 0 00-2.5-2.5h-9A2.5 2.5 0 002 7v10a2.5 2.5 0 002.5 2.5z"></path>
        </svg>
      </button>

      <div
        class="absolute right-0 top-full mt-2 w-80 rounded-lg border border-gray-200 bg-white p-4 shadow-lg dark:border-gray-700 dark:bg-gray-800"
        data-dropdown-target="panel"
        style="display: none;"
      >
        <div class="flex items-center justify-between border-b border-gray-200 pb-3 dark:border-gray-700">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Notificações</h3>
          <button
            type="button"
            class="text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"
            data-action="click->dropdown#toggle"
          >
            Marcar como lidas
          </button>
        </div>
        <div class="py-4">
          <div class="text-center text-gray-500 dark:text-gray-400">
            <svg class="mx-auto h-12 w-12 text-gray-300 dark:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM4.5 19.5h9a2.5 2.5 0 002.5-2.5V7a2.5 2.5 0 00-2.5-2.5h-9A2.5 2.5 0 002 7v10a2.5 2.5 0 002.5 2.5z"></path>
            </svg>
            <p class="mt-2 text-sm">Não há notificações.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="relative" data-controller="dropdown">
      <button
        type="button"
        class="flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700"
        data-action="click->dropdown#toggle"
        aria-label="Menu do usuário"
        aria-expanded="false"
      >
        <img class="h-8 w-8 rounded-full object-cover" src="<%= asset_path(user_avatar) %>" alt="Avatar">
        <span class="hidden lg:block"><%= user_name %></span>
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      </button>

      <div
        class="absolute right-0 top-full mt-2 w-64 rounded-lg border border-gray-200 bg-white p-2 shadow-lg dark:border-gray-700 dark:bg-gray-800"
        data-dropdown-target="panel"
        style="display: none;"
      >
        <div class="border-b border-gray-200 px-3 py-2 dark:border-gray-700">
          <p class="text-sm font-medium text-gray-900 dark:text-white"><%= user_name %></p>
          <p class="text-xs text-gray-500 dark:text-gray-400"><%= user_email %></p>
        </div>
        <div class="py-1">
          <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700">
            Perfil
          </a>
          <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700">
            Configurações
          </a>
          <hr class="my-1 border-gray-200 dark:border-gray-700">
          <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700">
            Sair
          </a>
        </div>
      </div>
    </div>
  </div>
</header>
