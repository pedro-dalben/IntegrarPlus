<%= render 'form_section_header', title: 'V - Parto' do %>
  <div class="space-y-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <%= form.label :birth_type, "Tipo de Parto", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.select :birth_type, options_for_select([['Normal', 'normal'], ['Cesárea', 'cesarea'], ['Fórceps', 'forceps']], anamnesis.birth_type), { include_blank: 'Selecione' }, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
      <div>
        <%= form.label :birth_location_type, "Local", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.select :birth_location_type, options_for_select([['Domiciliar', 'domiciliar'], ['Hospitalar', 'hospitalar']], anamnesis.birth_location_type), { include_blank: 'Selecione' }, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
      <div>
        <%= form.label :birth_term, "Termo", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.select :birth_term, options_for_select([['Pré-termo', 'pre_termo'], ['A termo', 'termo'], ['Pós-termo', 'pos_termo']], anamnesis.birth_term), { include_blank: 'Selecione' }, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4" data-controller="toggle-fields">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Tomou anestesia?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :had_anesthesia, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :had_anesthesia, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
      <div data-toggle-fields-target="content" style="<%= 'display: none;' unless anamnesis.had_anesthesia %>">
        <%= form.label :anesthesia_type, "Qual?", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.select :anesthesia_type, options_for_select([['Raquidiana', 'raquidiana'], ['Epidural', 'epidural']], anamnesis.anesthesia_type), { include_blank: 'Selecione' }, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <%= form.label :baby_position, "Posição da criança no parto", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.select :baby_position, options_for_select([['Cefálico', 'cefalico'], ['Pélvico – pé', 'pelvico_pe'], ['Pélvico – nádega', 'pelvico_nadega'], ['Transverso', 'transverso']], anamnesis.baby_position), { include_blank: 'Selecione' }, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Chorou ao nascer?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :cried_at_birth, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :cried_at_birth, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Circunvolução de cordão?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :cord_around_neck, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :cord_around_neck, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Cianótico?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :cyanotic, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :cyanotic, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
      <div>
        <%= form.label :apgar_1min, "Apgar 1º minuto", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.number_field :apgar_1min, min: 0, max: 10, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
      <div>
        <%= form.label :apgar_5min, "Apgar 5º minuto", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.number_field :apgar_5min, min: 0, max: 10, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
      <div>
        <%= form.label :mother_hospital_days, "Dias da mãe no hospital", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.number_field :mother_hospital_days, min: 0, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
      <div>
        <%= form.label :baby_hospital_days, "Dias do bebê no hospital", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.number_field :baby_hospital_days, min: 0, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <%= form.label :birth_weight, "Peso ao nascer (kg)", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.number_field :birth_weight, step: 0.001, min: 0, placeholder: "Ex: 3.250", class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
      <div>
        <%= form.label :birth_height, "Altura ao nascer (cm)", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.number_field :birth_height, step: 0.1, min: 0, placeholder: "Ex: 49.5", class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Precisou de incubadora/oxigênio?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :needed_incubator, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :needed_incubator, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4" data-controller="toggle-fields">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Precisou de UTI?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :needed_icu, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :needed_icu, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
      <div data-toggle-fields-target="content" style="<%= 'display: none;' unless anamnesis.needed_icu %>">
        <%= form.label :icu_reason, "Por quê?", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.text_area :icu_reason, rows: 2, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
    </div>

    <div>
      <%= form.label :birth_complications, "Outras intercorrências", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
      <%= form.text_area :birth_complications, rows: 2, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
    </div>
  </div>
<% end %>






