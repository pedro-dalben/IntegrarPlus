<%= render 'form_section_header', title: 'IV - Histórico Gestacional' do %>
  <div class="space-y-4">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Foi uma gravidez planejada/desejada?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_planned, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_planned, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>

      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Realizou o Pré-Natal?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :prenatal_care, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :prenatal_care, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <%= form.label :mother_age_at_birth, "Idade da mãe na época do nascimento", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.number_field :mother_age_at_birth, min: 10, max: 60, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Abortos?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :had_miscarriages, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :had_miscarriages, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
      <div class="flex gap-4" data-toggle-fields-target="content" style="<%= 'display: none;' unless anamnesis.had_miscarriages %>">
        <div>
          <%= form.label :miscarriages_count, "Quantos?", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
          <%= form.select :miscarriages_count, options_for_select([['1', 1], ['2', 2], ['3 ou mais', 3]], anamnesis.miscarriages_count), { include_blank: 'Selecione' }, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
        </div>
        <div>
          <%= form.label :miscarriages_type, "Tipo", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
          <%= form.select :miscarriages_type, options_for_select([['Natural', 'natural'], ['Mortos', 'mortos']], anamnesis.miscarriages_type), { include_blank: 'Selecione' }, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Traumatismo durante gravidez?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_trauma, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_trauma, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4" data-controller="toggle-fields">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Doença durante gravidez?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_illness, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_illness, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
      <div data-toggle-fields-target="content" style="<%= 'display: none;' unless anamnesis.pregnancy_illness %>">
        <%= form.label :pregnancy_illness_description, "Qual?", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.text_field :pregnancy_illness_description, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4" data-controller="toggle-fields">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Tomou medicamento?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_medication, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_medication, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
      <div data-toggle-fields-target="content" style="<%= 'display: none;' unless anamnesis.pregnancy_medication %>">
        <%= form.label :pregnancy_medication_description, "Qual?", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.text_field :pregnancy_medication_description, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4" data-controller="toggle-fields">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Ingestão de drogas?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_drugs, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_drugs, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>
      <div data-toggle-fields-target="content" style="<%= 'display: none;' unless anamnesis.pregnancy_drugs %>">
        <%= form.label :pregnancy_drugs_description, "Qual?", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.text_field :pregnancy_drugs_description, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div class="flex items-center gap-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Álcool?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_alcohol, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_alcohol, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300" %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>

      <div class="flex items-center gap-4" data-controller="toggle-fields">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-400">Tabagismo?</span>
        <div class="flex gap-4">
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_smoking, true, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Sim</span>
          </label>
          <label class="flex items-center gap-1">
            <%= form.radio_button :pregnancy_smoking, false, class: "h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300", data: { action: "change->toggle-fields#update", toggle_fields_target: "trigger" } %>
            <span class="text-sm">Não</span>
          </label>
        </div>
      </div>

      <div data-toggle-fields-target="content" style="<%= 'display: none;' unless anamnesis.pregnancy_smoking %>">
        <%= form.label :cigarettes_per_day, "Cigarros por dia", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
        <%= form.select :cigarettes_per_day, options_for_select([['1', 1], ['2', 2], ['3 ou mais', 3]], anamnesis.cigarettes_per_day), { include_blank: 'Selecione' }, class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
      </div>
    </div>
  </div>
<% end %>




