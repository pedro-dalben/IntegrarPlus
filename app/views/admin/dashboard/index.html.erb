<!-- Page Header -->
<div class="sm:flex sm:items-center sm:justify-between mb-6">
  <div class="min-w-0 flex-1">
    <h1 class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-white">
      Dashboard
    </h1>
  </div>
  <div class="mt-4 flex md:ml-4 md:mt-0">
    <button type="button" class="btn-secondary mr-3">
      Exportar
    </button>
    <button type="button" class="btn-primary">
      Novo
    </button>
  </div>
</div>

<!-- Stats Grid -->
<div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6">
  <% [["Receita", "R$ 128k"], ["Usuários", "5.420"], ["Pedidos", "2.134"], ["Conversão", "4,8%"]].each do |label, value| %>
    <div class="card">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm text-gray-500 dark:text-gray-400"><%= label %></span>
        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200">Hoje</span>
      </div>
      <div class="text-xl md:text-2xl font-semibold tracking-tight text-gray-900 dark:text-white"><%= value %></div>
    </div>
  <% end %>
</div>

<!-- Charts Grid -->
<div class="grid grid-cols-1 xl:grid-cols-3 gap-4 md:gap-6 mt-6">
  <div class="card xl:col-span-2">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Vendas mensais</h3>
      <div class="flex gap-2">
        <button class="btn-secondary text-sm px-3 py-1.5">12m</button>
        <button class="btn-secondary text-sm px-3 py-1.5">30d</button>
      </div>
    </div>
    <div class="h-48 md:h-72 rounded-lg overflow-hidden">
      <canvas data-controller="chart" data-chart-labels-value='["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]' data-chart-series-value='[120,180,140,200,240,220,260,300,280,340,360,380]'></canvas>
    </div>
  </div>
  <div class="card">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-1">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Top produtos</h3>
      <span class="text-sm text-gray-500 dark:text-gray-400">Atualizado agora</span>
    </div>
    <ul class="space-y-3">
      <% 5.times do |i| %>
        <li class="flex items-center justify-between">
          <span class="text-sm text-gray-900 dark:text-white">Produto <%= i+1 %></span>
          <span class="text-sm font-medium text-gray-900 dark:text-white">R$ <%= (1000 - i*123).to_s.reverse.gsub(/...(?!$)/, '\\0.').reverse %></span>
        </li>
      <% end %>
    </ul>
  </div>
</div>

<!-- Recent Orders Table -->
<div class="card mt-6">
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2">
    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Últimos pedidos</h3>
    <button class="btn-secondary text-sm px-3 py-1.5">Ver todos</button>
  </div>
  <div class="overflow-x-auto -mx-1">
    <table class="min-w-full text-sm">
      <thead>
        <tr class="text-left text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700">
          <th class="py-2 pr-2 md:pr-4 font-medium">Pedido</th>
          <th class="py-2 pr-2 md:pr-4 font-medium">Cliente</th>
          <th class="py-2 pr-2 md:pr-4 font-medium">Status</th>
          <th class="py-2 text-right font-medium">Total</th>
        </tr>
      </thead>
      <tbody>
        <% [["#1001","Maria","Pago","R$ 890,00"],["#1002","João","Pendente","R$ 420,00"],["#1003","Ana","Pago","R$ 1.240,00"],["#1004","Pedro","Cancelado","R$ 0,00"]].each do |row| %>
          <tr class="border-b last:border-b-0 border-gray-200 dark:border-gray-700">
            <td class="py-2 pr-2 md:pr-4 font-medium text-gray-900 dark:text-white"><%= row[0] %></td>
            <td class="py-2 pr-2 md:pr-4 text-gray-900 dark:text-white"><%= row[1] %></td>
            <td class="py-2 pr-2 md:pr-4">
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"><%= row[2] %></span>
            </td>
            <td class="py-2 text-right font-medium text-gray-900 dark:text-white"><%= row[3] %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>