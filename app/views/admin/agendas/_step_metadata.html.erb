<div class="space-y-6" data-controller="agendas--metadata">
  <div>
    <h2 class="text-lg font-medium text-gray-800 dark:text-white mb-4">Informações Básicas</h2>
    <p class="text-sm text-gray-600 dark:text-gray-400 mb-6">Configure os metadados básicos da agenda</p>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <div class="lg:col-span-2">
      <%= form.label :name, "Nome da Agenda", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
      <%= form.text_field :name, 
            placeholder: "Ex: Anamnese - Unidade Centro",
            class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30",
            data: { 'agendas--metadata-target': "nameInput" } %>
      <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Nome único para identificar esta agenda</p>
    </div>

    <div>
      <%= form.label :service_type, "Tipo de Serviço", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
      <%= form.select :service_type, 
            options_for_select([
              ['Selecione um tipo', ''],
              ['Anamnese', 'anamnese'],
              ['Consulta', 'consulta'],
              ['Atendimento', 'atendimento'],
              ['Reunião', 'reuniao'],
              ['Outro', 'outro']
            ], form.object.service_type),
            {},
            class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
    </div>

    <div>
      <%= form.label :default_visibility, "Visibilidade Padrão", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
      <%= form.select :default_visibility, 
            options_for_select([
              ['Privada', 'private_visibility'],
              ['Restrita', 'restricted'],
              ['Pública', 'public_visibility']
            ], form.object.default_visibility),
            {},
            class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30",
            data: { action: "change->agendas--metadata#updateVisibilityInfo" } %>
      
      <div data-agendas--metadata-target="visibilityInfo" class="ta-alert ta-alert-info mt-2">
        <div class="flex">
          <div class="flex-shrink-0">
            <svg class="h-5 w-5 text-blue-400" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
            </svg>
          </div>
          <div class="ml-3">
            <p class="text-sm text-blue-700 dark:text-blue-300">
              <span data-agendas--metadata-target="visibilityText">Privada: Apenas profissionais vinculados podem ver e agendar</span>
            </p>
          </div>
        </div>
      </div>
    </div>

    <div>
      <%= form.label :unit_id, "Unidade (Opcional)", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
      <%= form.select :unit_id, 
            options_from_collection_for_select(Unit.all, :id, :name, form.object.unit_id),
            { prompt: 'Selecione uma unidade' },
            class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
    </div>

    <div>
      <%= form.label :color_theme, "Cor do Marcador", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
      <div class="flex items-center gap-3">
        <%= form.color_field :color_theme, 
              value: form.object.color_theme || '#3B82F6',
              class: "w-12 h-10 border border-gray-300 rounded-lg cursor-pointer dark:border-gray-600" %>
        <span class="text-sm text-gray-500 dark:text-gray-400">Cor que aparecerá no calendário</span>
      </div>
    </div>
  </div>

  <div>
    <%= form.label :notes, "Observações", class: "mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400" %>
    <%= form.text_area :notes, 
          rows: 3,
          placeholder: "Informações adicionais sobre esta agenda...",
          class: "dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" %>
  </div>

  <%= form.hidden_field :status, value: 'draft' %>
</div>
