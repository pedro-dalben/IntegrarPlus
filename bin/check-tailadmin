#!/bin/bash

echo "ğŸ” Verificando se o TailAdmin Pro estÃ¡ funcionando corretamente..."

echo ""
echo "ğŸ“‹ 1. Verificando se o servidor estÃ¡ rodando..."
if curl -s http://localhost:3000 > /dev/null; then
    echo "âœ… Servidor Rails estÃ¡ rodando"
else
    echo "âŒ Servidor Rails nÃ£o estÃ¡ rodando"
    exit 1
fi

echo ""
echo "ğŸ“‹ 2. Verificando se as imagens estÃ£o sendo servidas..."
if curl -s -I http://localhost:3000/assets/images/logo/logo.svg | grep -q "200 OK"; then
    echo "âœ… Imagens do logo estÃ£o sendo servidas"
else
    echo "âŒ Imagens do logo nÃ£o estÃ£o sendo servidas"
fi

if curl -s -I http://localhost:3000/assets/images/user/owner.png | grep -q "200 OK"; then
    echo "âœ… Imagens de usuÃ¡rio estÃ£o sendo servidas"
else
    echo "âŒ Imagens de usuÃ¡rio nÃ£o estÃ£o sendo servidas"
fi

echo ""
echo "ğŸ“‹ 3. Verificando se o Alpine.js estÃ¡ carregado..."
if curl -s http://localhost:3000/admin | grep -q "x-data"; then
    echo "âœ… Alpine.js estÃ¡ presente no HTML"
else
    echo "âŒ Alpine.js nÃ£o estÃ¡ presente no HTML"
fi

echo ""
echo "ğŸ“‹ 4. Verificando se o Tailwind CSS estÃ¡ funcionando..."
if curl -s http://localhost:3000/admin | grep -q "bg-white"; then
    echo "âœ… Classes do Tailwind estÃ£o presentes"
else
    echo "âŒ Classes do Tailwind nÃ£o estÃ£o presentes"
fi

echo ""
echo "ğŸ“‹ 5. Verificando se o JavaScript estÃ¡ sendo carregado..."
if curl -s http://localhost:3000/admin | grep -q "vite"; then
    echo "âœ… Vite estÃ¡ sendo carregado"
else
    echo "âŒ Vite nÃ£o estÃ¡ sendo carregado"
fi

echo ""
echo "ğŸ¯ PrÃ³ximos passos:"
echo "   1. Acesse http://localhost:3000/admin"
echo "   2. Verifique se o header estÃ¡ funcionando"
echo "   3. Teste o menu mobile (hamburger)"
echo "   4. Teste o dropdown do usuÃ¡rio"
echo "   5. Verifique se as imagens estÃ£o carregando"

echo ""
echo "ğŸ”§ Se algo nÃ£o estiver funcionando:"
echo "   - Verifique o console do navegador (F12)"
echo "   - Verifique se hÃ¡ erros de JavaScript"
echo "   - Verifique se o Alpine.js estÃ¡ inicializando"
echo "   - Verifique se o Tailwind estÃ¡ compilando"
