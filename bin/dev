#!/bin/bash

echo "ğŸš€ Iniciando Integrar Plus com Foreman..."
echo ""

echo "ğŸ“‹ Configurando variÃ¡veis de ambiente..."
source bin/setup-db

echo ""
echo "ğŸ”§ Verificando dependÃªncias..."
if [ ! -d "node_modules" ]; then
    echo "ğŸ“¦ Instalando dependÃªncias do Node.js..."
    npm install
fi

echo ""
echo "ğŸŒ Iniciando serviÃ§os..."
echo "   - Rails Server (porta 3000)"
echo "   - Vite Dev Server (porta 5173)"
echo "   - Solid Queue Jobs"
echo "   - MeiliSearch (porta 7700)"
echo ""
echo "ğŸ“± Acesse: http://localhost:3000"
echo "ğŸ”§ Vite Dev: http://localhost:5173"
echo "ğŸ” MeiliSearch: http://localhost:7700"
echo ""
echo "â¹ï¸  Para parar: Ctrl+C"
echo ""

foreman start -f Procfile.dev
